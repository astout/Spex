<!--%= render 'shared/error_messages', object: f.object %-->
<%= f.hidden_field :id, id: relation.id, value: relation.id || "", autocomplete: "off" %>

<%= f.text_field :entity, disabled: true, id: relation.id, class: "input-sm epr-ename", value: relation.entity.name || "", autocomplete: "off" %>

<%= f.text_field :group, disabled: true, id: relation.id, class: "input-sm epr-gname", value: relation.group.name || "", autocomplete: "off" %>

<%= f.text_field :property, disabled: true, id: relation.id, class: "input-sm epr-pname", value: relation.property.name || "", autocomplete: "off" %>

<%= f.number_field :order, disabled: true, id: relation.id, class: "input-sm epr-order", value: relation.order+1 || "", autocomplete: "off"%>

<%= f.text_field :label, id: relation.id, class: "input-sm epr-label", value: relation.label || "", autocomplete: "off" %>

<%= render partial: 'entity_property_relationships/formula_forms', locals: { relation: relation } %>

<%= f.text_area :value, id: relation.id, class: "input-sm epr-value", label: "Actual Value", autocomplete: "off", style: "", value: relation.value || "" %>

<label class="control-label" for="epr-evaluated">Calculated Value</label>
<div class="input-group input-group-sm"> 
  <input class="form-control epr-evaluated-text" id=<%= relation.id %> name="epr-evaluated" type="text" autocomplete="off" readonly="readonly" value="<%= @_value_copy %>" >
  <span class="input-group-btn">
    <button class="btn btn-info epr-evaluate" id=<%= relation.id %> >Calculate</button>
  </span>
</div>

<%= f.number_field :visibility, min: 0, id: relation.id, class: "input-sm epr-visibility", label: "Role Visibility", value: relation.visibility || "", autocomplete: "off" %>

