<% unless defined? columns %>
    <% columns = [] %>
<% end %>

<table class="table table-condensed entities">
    <% if columns.include? 'name' %>
        <th>
            <%= entity_sortable "name" %>
        </th>
    <% end %>
    <% if columns.include? 'label' %>
        <th>
            <%= entity_sortable "label" %>
        </th>
    <% end %>
    <% if columns.include? 'created' %>
        <th>
            <%= entity_sortable "created_at", "Created" %>
        </th>
    <% end %>
    <% if columns.include? 'updated' %>
        <th>
            <%= entity_sortable "updated_at", "Updated" %>
        </th>
    <% end %>
    <% if columns.include? 'remove' && admin_user? %>
        <th>
            Remove
        </th>
    <% end %>
  <%= render partial: 'entities/entity', collection: @entities, locals: { columns: columns }  %>
</table>
<%= will_paginate @entities, inner_window: 0, outer_window: 0, param_name: 'entities_page', params: { event: 'entity' } %>